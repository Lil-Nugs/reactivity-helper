{"id":"reactivity-helper-8ju","title":"Project scaffolding: Vite + React + TypeScript + Tailwind","description":"Set up the foundational project structure with Vite, React 18, TypeScript, and Tailwind CSS. This is the base that all other work depends on.\n\nRequirements:\n- Vite with React + TypeScript template\n- Tailwind CSS with mobile-first configuration\n- Basic folder structure per DESIGN.md (src/components, src/hooks, src/db, src/types)\n- ESLint + Prettier configuration\n- Base HTML with iOS meta tags (viewport-fit=cover, apple-mobile-web-app-capable)\n\nAcceptance criteria:\n- npm run dev starts the dev server\n- TypeScript compilation works\n- Tailwind utility classes are applied correctly","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T22:30:13.779264-08:00","updated_at":"2025-12-25T22:53:24.391907-08:00","closed_at":"2025-12-25T22:53:24.391907-08:00","dependencies":[{"issue_id":"reactivity-helper-8ju","depends_on_id":"reactivity-helper-a46","type":"parent-child","created_at":"2025-12-25T22:34:48.669213-08:00","created_by":"daemon"}]}
{"id":"reactivity-helper-axa","title":"Reactivity Quick Log screen","description":"Implement the primary Quick Log interface for reactivity incidents per DESIGN.md.\n\nFile: src/components/Reactivity/QuickLog/\n\nComponents needed:\n1. TriggerGrid.tsx - 6 trigger buttons (Dog, Person, Bike, Car, Noise, Other)\n2. IntensitySlider.tsx - 1-5 intensity selector with labels\n3. QuickLogScreen.tsx - Main screen composing the above\n\nFlow (3 taps):\n1. Tap trigger (required) - captures timestamp + GPS\n2. Tap intensity (required)\n3. Tap 'LOG IT' button\n\nData handling:\n- Use nanoid() for incident ID\n- Capture timestamp as ISO 8601\n- Attempt geolocation capture (optional, fail gracefully)\n- Save to Dexie incidents table\n\nUI requirements:\n- Touch-friendly buttons (min-h-11)\n- Visual feedback on selection\n- Success toast/feedback on log\n\nNote: Details expander (behaviors, notes) is Phase 2\n\nAcceptance criteria:\n- Can log incident in 3 taps\n- Incident saved to IndexedDB\n- Works without location permission","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T22:30:23.355363-08:00","updated_at":"2025-12-26T11:22:10.461347-08:00","closed_at":"2025-12-26T11:22:10.461347-08:00","dependencies":[{"issue_id":"reactivity-helper-axa","depends_on_id":"reactivity-helper-2vt","type":"blocks","created_at":"2025-12-25T22:30:56.289018-08:00","created_by":"daemon"},{"issue_id":"reactivity-helper-axa","depends_on_id":"reactivity-helper-qlk","type":"blocks","created_at":"2025-12-25T22:30:56.77052-08:00","created_by":"daemon"},{"issue_id":"reactivity-helper-axa","depends_on_id":"reactivity-helper-a46","type":"parent-child","created_at":"2025-12-25T22:34:51.931942-08:00","created_by":"daemon"}]}
{"id":"reactivity-helper-oqs","title":"TypeScript type definitions for all data models","description":"Create comprehensive TypeScript types for all data models as defined in DESIGN.md.\n\nFiles to create:\n- src/types/index.ts (barrel export)\n- src/types/reactivity.ts (Incident, TriggerType, DogBehavior, HandlerResponse)\n- src/types/separationAnxiety.ts (Departure, WeeklyTarget, all SA-related types)\n- src/types/medications.ts (MedicationConfig, DoseSchedule, MedicationEntry)\n- src/types/common.ts (Dog, UserSettings, NamedLocation)\n\nKey patterns:\n- Use nanoid for ID generation\n- ISO 8601 strings for timestamps\n- Strict union types for enums (TriggerType, DogBehavior, etc.)\n\nAcceptance criteria:\n- All types from DESIGN.md are implemented\n- Types are properly exported and usable throughout the app\n- No 'any' types used","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T22:30:20.777241-08:00","updated_at":"2025-12-25T23:01:42.8675-08:00","closed_at":"2025-12-25T23:01:42.8675-08:00","dependencies":[{"issue_id":"reactivity-helper-oqs","depends_on_id":"reactivity-helper-a46","type":"parent-child","created_at":"2025-12-25T22:34:49.837371-08:00","created_by":"daemon"},{"issue_id":"reactivity-helper-oqs","depends_on_id":"reactivity-helper-8ju","type":"blocks","created_at":"2025-12-25T22:30:53.749574-08:00","created_by":"daemon"}]}
{"id":"reactivity-helper-5y9","title":"Add offline indicator UI","description":"Users should know when the app is offline. Currently no visual indicator.\n\nConsider a banner or icon in the header when navigator.onLine is false.\n\nReference: Review PWA section","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-04T23:57:51.836436776-08:00","updated_at":"2026-01-04T23:57:51.836436776-08:00","created_by":"mattc"}
{"id":"reactivity-helper-1e9","title":"Fix IncidentList to use database-level pagination","description":"Performance issue - loads all incidents into memory, then slices for display.\n\nLocation: src/components/Reactivity/History/IncidentList.tsx:26-30\n\nCurrent:\n```typescript\nconst { incidents: allIncidents } = useIncidents(dogId)\nconst visibleIncidents = allIncidents.slice(0, visibleCount)\n```\n\nUse limit option in useIncidents or implement cursor-based pagination.\n\nReference: Review finding M3","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T23:57:46.820932919-08:00","updated_at":"2026-01-04T23:57:46.820932919-08:00","created_by":"mattc"}
{"id":"reactivity-helper-qlk","title":"Common components: Header and BottomNav","description":"Create reusable Header and BottomNav components per DESIGN.md navigation structure.\n\nComponents:\n1. src/components/common/Header.tsx\n   - Back arrow (‚Üê) for navigation to home\n   - Module name/title\n   - Settings gear icon\n   - Safe area padding (env(safe-area-inset-top))\n   - Mobile-first styling (min-h-11 touch targets)\n\n2. src/components/common/BottomNav.tsx\n   - 3 tabs: Log, History, Stats (icons + labels)\n   - Active tab highlighting\n   - Safe area padding (env(safe-area-inset-bottom))\n   - min-h-11 for touch targets\n\nStyling requirements:\n- Tailwind only\n- Mobile-first responsive design\n- Support for theme color (#4F46E5 indigo)\n\nAcceptance criteria:\n- Components render correctly\n- Navigation works between tabs\n- Safe areas respected on iOS notch devices","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T22:30:22.092506-08:00","updated_at":"2025-12-25T23:05:19.447969-08:00","closed_at":"2025-12-25T23:05:19.447969-08:00","dependencies":[{"issue_id":"reactivity-helper-qlk","depends_on_id":"reactivity-helper-8ju","type":"blocks","created_at":"2025-12-25T22:31:04.620522-08:00","created_by":"daemon"},{"issue_id":"reactivity-helper-qlk","depends_on_id":"reactivity-helper-a46","type":"parent-child","created_at":"2025-12-25T22:34:50.895956-08:00","created_by":"daemon"}]}
{"id":"reactivity-helper-hyk","title":"Reactivity History list screen","description":"Implement basic history list for viewing logged incidents per DESIGN.md.\n\nFile: src/components/Reactivity/History/\n\nComponents needed:\n1. IncidentCard.tsx - Single incident display card\n   - Trigger emoji + name\n   - Intensity indicator (numbered circle)\n   - Time (formatted)\n   - Location name if available\n   - Behaviors list if present\n2. IncidentList.tsx - Scrollable list with date grouping\n\nUI requirements:\n- Grouped by date (Today, Yesterday, Dec 23, etc.)\n- Chronological order (newest first)\n- Infinite scroll pagination (20 items initial, load more on scroll)\n- Empty state: 'No incidents logged yet...'\n\nData fetching:\n- Query Dexie incidents table\n- Filter by dogId\n- Order by timestamp descending\n\nNote: Filters and edit/delete are Phase 2\n\nAcceptance criteria:\n- List displays logged incidents correctly\n- Date grouping works\n- Infinite scroll loads more items\n- Empty state shows when no data","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T22:30:23.946279-08:00","updated_at":"2025-12-26T19:46:21.785214-08:00","closed_at":"2025-12-26T19:46:21.785214-08:00","dependencies":[{"issue_id":"reactivity-helper-hyk","depends_on_id":"reactivity-helper-axa","type":"blocks","created_at":"2025-12-25T22:30:57.261228-08:00","created_by":"daemon"},{"issue_id":"reactivity-helper-hyk","depends_on_id":"reactivity-helper-a46","type":"parent-child","created_at":"2025-12-25T22:34:52.410899-08:00","created_by":"daemon"}]}
{"id":"reactivity-helper-4h0","title":"Remove Example.tsx and add loading skeletons","description":"Cleanup tasks:\n1. Delete src/components/common/Example.tsx (unnecessary in production)\n2. Replace 'Loading...' text with skeleton cards in IncidentList.tsx:68-74\n\nReference: Review findings L1, L3","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-04T23:57:54.103487828-08:00","updated_at":"2026-01-04T23:57:54.103487828-08:00","created_by":"mattc"}
{"id":"reactivity-helper-a46","title":"Phase 1: Foundation + Reactivity MVP","description":"Foundation setup and minimum viable Reactivity module per DESIGN.md.\n\nDeliverables:\n- Project scaffolding (Vite, React, TypeScript, Tailwind)\n- PWA configuration (offline-first)\n- Full data model types\n- Dexie database with all tables\n- Common navigation components\n- Module selector home screen\n- Reactivity Quick Log (3-tap logging)\n- Reactivity History list\n\nExit criteria:\n- App installs as PWA on iOS/Android\n- Can log reactivity incidents in 3 taps\n- Can view incident history\n- Works fully offline","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-25T22:33:21.192238-08:00","updated_at":"2025-12-25T22:33:21.192238-08:00","dependencies":[{"issue_id":"reactivity-helper-a46","depends_on_id":"reactivity-helper-icu","type":"blocks","created_at":"2026-01-04T21:55:24.313934885-08:00","created_by":"mattc"}]}
{"id":"reactivity-helper-1mt","title":"Add ErrorBoundary wrapper to prevent app crashes","description":"Any component error crashes the entire app. Add ErrorBoundary wrapper in App.tsx around Routes component.\n\nReference: Review finding H1","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-04T23:57:38.604656067-08:00","updated_at":"2026-01-04T23:57:38.604656067-08:00","created_by":"mattc"}
{"id":"reactivity-helper-bs7","title":"Add navigator.storage.persist() for iOS data retention","description":"On iOS Safari, IndexedDB data may be evicted under storage pressure without persistence request.\n\nLocation: src/main.tsx\nReference: DESIGN.md line 1030 explicitly mentions this requirement.\n\nAdd:\n```typescript\nif (navigator.storage?.persist) {\n  navigator.storage.persist();\n}\n```\n\nReference: Review finding H2","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-04T23:57:40.054140122-08:00","updated_at":"2026-01-04T23:57:40.054140122-08:00","created_by":"mattc"}
{"id":"reactivity-helper-icu","title":"Fix TriggerGrid to show all 9 triggers","description":"## Problem\nTriggerGrid component (src/components/Reactivity/QuickLog/TriggerGrid.tsx) uses a hardcoded 6-trigger array instead of the TRIGGER_CONFIG constant. This means users cannot log incidents for:\n- Skateboard\n- Child  \n- Jogger\n\n## Root Cause\nLines 14-21 define a local `triggers` array with only 6 items. The TRIGGER_CONFIG in src/constants/triggers.ts already has all 9 triggers properly defined.\n\n## Solution\n1. Import TRIGGER_CONFIG from '../../../constants/triggers'\n2. Replace the hardcoded `triggers` array with a derived array from TRIGGER_CONFIG\n3. Update grid layout if needed (currently 3x2, should be 3x3)\n\n## Files to Modify\n- src/components/Reactivity/QuickLog/TriggerGrid.tsx\n\n## Acceptance Criteria\n- [ ] All 9 triggers display in grid\n- [ ] Grid shows 3 rows x 3 columns\n- [ ] Existing selection behavior unchanged\n- [ ] No duplicate type definitions","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-04T21:54:50.802338983-08:00","updated_at":"2026-01-04T23:43:51.242434679-08:00","closed_at":"2026-01-04T23:43:51.242434679-08:00","created_by":"mattc"}
{"id":"reactivity-helper-xdj","title":"Wire up location auto-match in QuickLogScreen","description":"GPS coordinates are captured but not matched to named locations.\n\nLocation: src/components/Reactivity/QuickLog/QuickLogScreen.tsx:54-62\n\nThe helper function findNearestLocation() already exists in src/db/index.ts:183-200. Just needs to be uncommented and integrated.\n\nReference: Review finding M2","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T23:57:45.236209005-08:00","updated_at":"2026-01-04T23:57:45.236209005-08:00","created_by":"mattc"}
{"id":"reactivity-helper-6ru","title":"Module selector home screen","description":"Create the home screen with module selection cards per DESIGN.md UI mockup.\n\nFile: src/components/Home/ModuleSelector.tsx\n\nUI requirements:\n- App title: 'Reactivity Helper' with dog emoji\n- Three module cards in vertical stack:\n  1. Reactivity (üö∂) - 'Log reactive incidents'\n  2. Separation Anxiety (üè†) - 'Log departures'\n  3. Medications (üíä) - 'Log doses'\n- Cards are tappable, navigate to respective module\n- Mobile-first styling with proper touch targets\n\nFirst-run experience:\n- If no dog exists, show 'What's your dog's name?' prompt\n- Create dog record on submission\n- Store activeDogId in userSettings\n\nAcceptance criteria:\n- Home screen displays correctly\n- Module cards navigate to correct routes\n- First-run flow creates dog + settings","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T22:30:22.700114-08:00","updated_at":"2025-12-26T11:22:10.457061-08:00","closed_at":"2025-12-26T11:22:10.457061-08:00","dependencies":[{"issue_id":"reactivity-helper-6ru","depends_on_id":"reactivity-helper-2vt","type":"blocks","created_at":"2025-12-25T22:30:55.796356-08:00","created_by":"daemon"},{"issue_id":"reactivity-helper-6ru","depends_on_id":"reactivity-helper-a46","type":"parent-child","created_at":"2025-12-25T22:34:57.087632-08:00","created_by":"daemon"},{"issue_id":"reactivity-helper-6ru","depends_on_id":"reactivity-helper-qlk","type":"blocks","created_at":"2025-12-25T22:30:55.276722-08:00","created_by":"daemon"}]}
{"id":"reactivity-helper-7t9","title":"PWA configuration with vite-plugin-pwa","description":"Configure PWA functionality using vite-plugin-pwa for offline-first experience.\n\nRequirements per DESIGN.md:\n- Install and configure vite-plugin-pwa\n- Manifest: name='Reactivity Helper', short_name='ReactHelper', theme_color='#4F46E5', display='standalone'\n- Service worker with cache-first strategy\n- App icons (192x192, 512x512)\n- Workbox runtime caching configuration\n\niOS-specific:\n- apple-touch-icon link\n- apple-mobile-web-app-status-bar-style meta tag\n\nAcceptance criteria:\n- PWA installs correctly on iOS/Android\n- App works offline after first load\n- Service worker registers successfully","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T22:30:20.11092-08:00","updated_at":"2025-12-25T23:17:11.984881-08:00","closed_at":"2025-12-25T23:17:11.984881-08:00","dependencies":[{"issue_id":"reactivity-helper-7t9","depends_on_id":"reactivity-helper-a46","type":"parent-child","created_at":"2025-12-25T22:34:49.26418-08:00","created_by":"daemon"},{"issue_id":"reactivity-helper-7t9","depends_on_id":"reactivity-helper-8ju","type":"blocks","created_at":"2025-12-25T22:30:53.208005-08:00","created_by":"daemon"}]}
{"id":"reactivity-helper-2vt","title":"Dexie database setup with all tables","description":"Set up Dexie.js for IndexedDB storage with all required tables.\n\nFile: src/db/index.ts\n\nTables needed:\n- dogs (id, name)\n- userSettings (id, activeDogId, recentTags, darkMode)\n- namedLocations (id, dogId, name, lat, lng, radiusMeters)\n- incidents (id, dogId, timestamp, trigger, intensity, + optional fields)\n- departures (id, dogId, timestamp, duration, exitType, outcome, + optional fields)\n- weeklyTargets (id, dogId, weekStart, targetDuration, notes)\n- medicationConfigs (id, dogId, name, doses, notes)\n- medicationEntries (id, dogId, date, medicationId, doseScheduleId, targetTime, actualTime, dose)\n\nIndex configuration:\n- incidents: [dogId, timestamp]\n- departures: [dogId, timestamp]\n- medicationEntries: [dogId, date, medicationId]\n\nAcceptance criteria:\n- Dexie database initializes correctly\n- All tables are queryable\n- Indexes work for common queries","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T22:30:21.441606-08:00","updated_at":"2025-12-25T23:46:08.715037-08:00","closed_at":"2025-12-25T23:46:08.715037-08:00","dependencies":[{"issue_id":"reactivity-helper-2vt","depends_on_id":"reactivity-helper-a46","type":"parent-child","created_at":"2025-12-25T22:34:50.372669-08:00","created_by":"daemon"},{"issue_id":"reactivity-helper-2vt","depends_on_id":"reactivity-helper-oqs","type":"blocks","created_at":"2025-12-25T22:30:54.264254-08:00","created_by":"daemon"}]}
{"id":"reactivity-helper-x8m","title":"Fix iOS apple-mobile-web-app-capable meta tag","description":"iOS meta tag typo in index.html.\n\nCurrent: mobile-web-app-capable\nShould be: apple-mobile-web-app-capable\n\nReference: Review PWA section","status":"open","priority":3,"issue_type":"bug","created_at":"2026-01-04T23:57:50.278102448-08:00","updated_at":"2026-01-04T23:57:50.278102448-08:00","created_by":"mattc"}
{"id":"reactivity-helper-6pf","title":"Extract duplicate Haversine calculation to utils/geo.ts","description":"Code duplication - identical calculateDistance() function exists in two places:\n- src/db/index.ts:206-224\n- src/hooks/useNamedLocations.ts:101-119\n\nExtract to src/utils/geo.ts and import from there.\n\nReference: Review finding M1","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T23:57:43.438483262-08:00","updated_at":"2026-01-04T23:57:43.438483262-08:00","created_by":"mattc"}
{"id":"reactivity-helper-dsa","title":"Fix ModuleSelector safe area handling","description":"On notched iPhones, header content may overlap with status bar.\n\nLocation: src/components/Home/ModuleSelector.tsx:193\n\nUses pt-safe class which may not be defined. Should use inline style like Header.tsx:\n```tsx\nstyle={{ paddingTop: 'env(safe-area-inset-top)' }}\n```\n\nReference: Review finding M4","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-04T23:57:48.686427619-08:00","updated_at":"2026-01-04T23:57:48.686427619-08:00","created_by":"mattc"}
{"id":"reactivity-helper-asf","title":"Replace alert() with toast notifications","description":"Poor mobile UX - modal dialogs are intrusive on mobile.\n\nLocation: src/components/Reactivity/QuickLog/QuickLogScreen.tsx:86\n\nCurrent code:\n```typescript\nalert('Failed to log incident. Please try again.');\n```\n\nConsider react-hot-toast or custom toast component.\n\nReference: Review finding H3","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-04T23:57:41.826217843-08:00","updated_at":"2026-01-04T23:57:41.826217843-08:00","created_by":"mattc"}
